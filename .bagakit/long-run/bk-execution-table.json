{
  "version": "1",
  "selection": {
    "strategy": "status_confidence_evidence_priority"
  },
  "detection": {
    "status": "ready",
    "last_reviewed_at": "2026-02-24T17:09:18Z",
    "reviewed_by": "lobster-shell-v0-bootstrap",
    "upstream_systems": [
      "bagakit-ft-default"
    ],
    "notes": "Bootstrap completed; ft-harness upstream detected and ready for long-run dispatch."
  },
  "adapters": [
    {
      "name": "bagakit-ft-default",
      "kind": "bagakit-ft",
      "enabled": true,
      "root": ".",
      "weight": 100,
      "detect": {
        "all": [
          {
            "path_exists": ".bagakit/ft-harness/index/feats.json"
          },
          {
            "json_has_key": {
              "path": ".bagakit/ft-harness/index/feats.json",
              "key": "feats"
            }
          }
        ]
      }
    },
    {
      "name": "openspec-default",
      "kind": "openspec",
      "enabled": true,
      "root": ".",
      "weight": 80,
      "detect": {
        "all": [
          {
            "path_exists": "openspec/changes"
          },
          {
            "glob_count_ge": {
              "pattern": "openspec/changes/*/tasks.md",
              "min": 1
            }
          }
        ]
      }
    },
    {
      "name": "manual-default",
      "kind": "manual",
      "enabled": false,
      "root": ".",
      "weight": 60,
      "detect": {
        "all": []
      },
      "rows": []
    }
  ],
  "guidance": {
    "global": {
      "analyze_when": [
        "No item is currently in_progress",
        "Current item becomes blocked",
        "Upstream rows changed since previous run"
      ],
      "plan_must_include": [
        "Why this item now",
        "Exact files to touch",
        "Commands/checks to run",
        "Verification or gate expectation",
        "Risk and rollback note",
        "Acceptance checklist with binary pass/fail criteria",
        "Fallback or unblock action if checks fail"
      ]
    },
    "systems": {
      "openspec": {
        "analyze_when": [
          "tasks.md has unchecked checklist items",
          "proposal/scope changed since last pass"
        ],
        "plan_must_include": [
          "change name and target capability",
          "current checklist item from tasks.md",
          "spec delta impact and validation command"
        ],
        "example": [
          "Open proposal.md + tasks.md, pick first unchecked task, restate acceptance as executable checks."
        ]
      },
      "bagakit-ft": {
        "analyze_when": [
          "feat has an in_progress task",
          "gate_fail_streak or no_progress counters increase"
        ],
        "plan_must_include": [
          "feat-id and task-id",
          "worktree path and branch",
          "gate command path and expected result"
        ],
        "example": [
          "Use feat/task state as SSOT, execute only current task, then run task gate and prepare structured commit."
        ]
      },
      "manual": {
        "analyze_when": [
          "Custom upstream tracker has pending actionable items",
          "Mapped manual rows drift from source tracker"
        ],
        "plan_must_include": [
          "source tracker id and current state",
          "binary acceptance checks copied into handoff",
          "exact file list and run commands"
        ],
        "example": [
          "Map one upstream ticket into one manual row with acceptance_criteria/files_to_touch/commands, then execute single-item pass."
        ]
      }
    }
  }
}
